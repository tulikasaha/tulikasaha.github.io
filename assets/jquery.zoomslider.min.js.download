!function(r,s,t,e){var l="zoomSlider",o={src:null,speed:8e3,switchSpeed:800,interval:4500,autoplay:!0,bullets:!0,overlay:"plain"};function n(s,i){this.element=s,this.$el=r(s),this._defaults=o,this._name=l;var t=this.$el.data(),e={};for(var n in t)if(t.hasOwnProperty(n)&&n.match(/zs[A-Z]/)){var a=n.substr(2);e[a=a.charAt(0).toLowerCase()+a.slice(1)]=t[n]}this.settings=r.extend({},o,e,i),null==this.settings.src||this.settings.src.length<1?console.log("ZoomSlider terminated - invalid input."):this.init()}r.extend(n.prototype,{init:function(){0==r.isArray(this.settings.src)&&(this.settings.src=[this.settings.src]),this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},this.transEndEventName=this.transEndEventNames[Modernizr.prefixed("transition")],this.support=Modernizr.csstransitions&&Modernizr.csstransforms;var s=Modernizr.prefixed("transform");switch(s=s.replace(/([A-Z])/g,function(s,i){return"-"+i.toLowerCase()}).replace(/^ms-/,"-ms-"),this.transitionProp={transition:s+" "+this.settings.speed+"ms ease-out, opacity "+this.settings.switchSpeed+"ms"},this.numSlides=this.settings.src.length,this.$el.css("position")){case"relative":case"absolute":case"fixed":break;default:this.$el.css("position","relative")}var i=this,t=r("<img />");t.on("load",function(){1==i.numSlides?i.initSingle():i.initSlideshow()}),t.attr("src",this.settings.src[0])},initSlideshow:function(){var t=this,s=r('<div class="zs-slideshow"></div>'),e=r('<div class="zs-slides"></div>'),n=r('<div class="zs-bullets"></div>');for(i=0;i<this.numSlides;i++){var a=r('<div class="zs-slide zs-slide-'+i+'"></div>');a.css({"background-image":"url('"+this.settings.src[i]+"')"}).appendTo(e);var l=r('<div class="zs-bullet zs-bullet-'+i+'"></div>');l.appendTo(n),0==i&&(a.addClass("active").css("opacity",1),l.addClass("active"))}if(t._promoteChildren(),s.append(e).prependTo(this.$el),1==this.settings.bullets&&(s.append(n),s.on("click",".zs-bullet",function(s){t.jump(r(this).index())})),this.pos=0,this.pending=null,this.switching=!1,this.$slideshow=s,this.$slides=e.children(".zs-slide"),this.$bullets=n.children(".zs-bullet"),this.$el.addClass("zs-enabled"),"dots"==this.settings.overlay?this.$el.addClass("overlay-dots"):"plain"==this.settings.overlay&&this.$el.addClass("overlay-plain"),this.support){var o=this.$slides.eq(0);o.css("opacity",0).css(this.transitionProp),setTimeout(function(){o.css({opacity:1,transform:"scale(1.0, 1.0)","z-index":2})},50)}1==this.settings.autoplay&&this.play()},initSingle:function(){var s=r('<div class="zs-slideshow"></div>'),i=r('<div class="zs-slides"></div>'),t=r('<div class="zs-slide zs-slide-0"></div>');t.css({"background-image":"url('"+this.settings.src[0]+"')"}).appendTo(i),t.addClass("active").css("opacity",1),this._promoteChildren(),s.append(i).prependTo(this.$el),this.$el.addClass("zs-enabled"),"dots"==this.settings.overlay?this.$el.addClass("overlay-dots"):"plain"==this.settings.overlay&&this.$el.addClass("overlay-plain"),this.support&&(t.css("opacity",0).css(this.transitionProp),setTimeout(function(){t.css({opacity:1,transform:"scale(1.0, 1.0)","z-index":2})},50))},_promoteChildren:function(){this.$el.children().each(function(s){$this=r(this),"auto"==$this.css("z-index")&&$this.css("z-index",2),"static"==$this.css("position")&&$this.css("position","relative")})},jump:function(s){if(s>=this.numSlides)console.log("ZoomSlider: jump(pos) aborted. supplied index out of range.");else if(this.pos!=s)if(this.switching)this.pending=s;else{var i=this,t=this.$slides.eq(this.pos),e=this.$slides.eq(s);this.support?(this.switching=!0,t.css("z-index",1),e.addClass("active").css(this.transitionProp).css({opacity:1,transform:"scale(1.0, 1.0)","z-index":2}).on(this.transEndEventName,function(s){"opacity"==s.originalEvent.propertyName&&(lastSlideBg=t.css("background-image"),t.removeClass("active").removeAttr("style").css("background-image",lastSlideBg),e.off(i.transEndEventName),i.switching=!1,null!=i.pending&&setTimeout(function(){var s=i.pending;i.pending=null,i.$bullets.eq(s).click()},30))})):(t.removeClass("active"),e.addClass("active")),this.$bullets.eq(this.pos).removeClass("active"),this.$bullets.eq(s).addClass("active"),this.pos=s,this.settings.autoplay&&this.play()}},prev:function(){var s=this.pos-1;s<0&&(s=this.numSlides-1),this.jump(s)},next:function(){var s=this.pos+1;s>=this.numSlides&&(s=0),this.jump(s)},play:function(){null!=this.timer&&clearInterval(this.timer);var s=this;this.settings.autoplay=!0,this.timer=setInterval(function(){s.next()},this.settings.interval)},stop:function(){this.settings.autoplay=!1,clearInterval(this.timer),this.timer=null}}),r.fn[l]=function(s){return this.each(function(){r.data(this,"plugin_"+l)||r.data(this,"plugin_"+l,new n(this,s))})};var a=r("[data-zs-src]");0<a.length&&a.each(function(s){r(this).zoomSlider()})}(jQuery,window,document);